\documentclass[a4paper]{article}

\usepackage[portuguese]{babel}
\usepackage{comment}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{float}
%\usepackage{multirow}
\usepackage[hypcap]{caption} % makes \ref point to top of figures and tables
\usepackage{amsmath}
%\usepackage[usenames,dvipsnames,svgnames,table]{xcolor}
%\usepackage{rotating}
%\usepackage{subcaption}

\begin{document}

\pagenumbering{gobble}
\input{./rosto.tex}

\tableofcontents
\pagebreak

\pagenumbering{arabic}
\section{Introdução}
Este projecto tem como principal objectivo fazer processamento de imagem recorrendo a uma placa Digilent S3 e a uma câmara com interface VGA. A placa Digilent S3 é uma placa de prototipagem com FPGA que nos permite implementar um processador MicroBlaze. O MicroBlaze comunica com a câmara para fazer o processamento da imagem capturada, que é mostrada num monitor através da saída VGA do dispositivo.

A realização do projecto permitirá a aprendizagem de como implementar um \textit{general purpose processor} como o MicroBlaze numa FPGA, como programar (pelo software providenciado pela Xilinx\textregistered\ ) e utilizar periféricos com esse processador (neste caso a câmara). Aprendemos também como fazer algumas operações simples de processamento de imagem, Histograma e Embossing.


\section{Material Utilizado}
\subsection*{Hardware}
\begin{itemize}
\item câmara VGA
\item computador com Xilinx EDK e SDK
\item placa Digilent S3 com Xilinx FPGA XC3S1000-4
\item monitor com entrada VGA
\end{itemize}

A placa Digilent S3 conta com 8 LEDs que são usados numa fase inicial do trabalho (Secção~\ref{subsec:LEDs}). Conta também 3 conjuntos de 40 pinos, um dos quais é usado para ligar a placa da câmara à da FPGA.

\subsection*{Software}
O software utilizado neste projecto foi o Xilinx Embedded Development Kit (EDK) e o Xilinx Software Development Kit (SDK). No EDK foram feitas as ligações e algumas configurações da FPGA e no segundo foi desenvolvido o software para o MicroBlaze.

\section{Especificações do Projecto}

A FPGA (\textit{Field Programmable Gate Array}) utilizada é uma Xilinx XC3S1000-4, isto é, uma FPGA da família Spartan-3, com 1000K (ou seja, 1M) portas de sistema, com \textit{Speed Grade} de -4, que corresponde a \textit{Standard Performance}. O relógio de sistema funciona a 326 MHz, existindo no dispositivo 4 \textit{Digital Clock Managers}, cada um equipado com um \textit{Delay Locked Loop}\cite{bib:s3datasheet}.

A câmara VGA é configurada para trabalhar com uma resolução de $128\times64$ píxeis, e o monitor para mostrar a imagem directamente da câmara, bem como o resultado do processamento que sai do MicroBlaze implementado na FPGA.

O microprocessador MicroBlaze trata-se de uma arquitectura de 32 bits, desenhada para implementação em FPGAs proprietárias da Xilinx\textregistered\cite{bib:microblaze}. O ambiente de desenvolvimento disponibilizado permite configurar as ligações do sistema e dos barramentos de dados, bem como executar binários compilados no próprio ambiente.

\section{Implementação do Projecto}
\subsection{Introdução à FPGA}
\label{subsec:LEDs}
% LEDs a piscar

\subsection{Processamento de Imagem no MicroBlaze\texttrademark}

\subsection{Processamento de Imagem por Software e Hardware}
\subsubsection{Histograma}

\subsubsection{Relevo (\textit{embossing})}

\section{Conclusão e Observações}
Embora o projecto não tenha grande utilidade prática na forma em que foi implementado (demasiados componentes de grande dimensão necessários para poder usar e com lenta iniciação) o valor lúdico é importante e não seria complexo adaptar o sistema usado a dimensões muito inferiores e de mais prática utilização. 

A volatilidade da memória da placa obriga a utilização de um computador com o software instalado cada vez que se quer iniciar o sistema. Se for utilizado um tipo de memória não volátil, é possível retirar o computador do sistema. O monitor pode ser trocado por um LCD moderno de muito menores dimensões sem qualquer tipo de redesenho do sistema, desde que tenha uma interface VGA. Finalmente, todo o sistema pode tornar-se portátil com o uso de uma bateria, uma vez que os componentes necessários têm baixo consumo, sendo ainda mais prático se se recorrer a uma placa de prototipagem de menores dimensões ou, no caso da solução VHDL, implementar o hardware descrito pelo código. (EMBORA PROVAVELMENTE ISTO NAO FIQUE FEITO A TEMPO)

Estas alterações são relativamente simples e aumentariam muito a utilidade do projecto se a intenção fosse a de fazer um produto. 
Foi notada a baixa performance da implementação por software, que está limitada pela arquitectura do MicroBlaze e também pela performance da placa onde o MicroBlaze foi implementado. 

No caso deste projecto a implementação por hardware seria claramente a mais adequada. O processamento feito é relativamente simples, o que diminui a vantagem do uso de um\textit{general purpose processor}, que é menos eficiente e tem uma performance muito inferior. É também relativamente fácil de paralelizar ambos os tipos de processamento, o que é ideal para implementações hardware. Na nossa opinião, a utilização de um \textit{general purpose processor} para a implementação final do sistema só seria justificada se a produção fosse de escala extremamente reduzida (o que seria bastante provável)

Voltando ao objectivo lúdico do projecto, permitiu comparar as vantagens e desvantagens de implementações por hardware e software, assim como aprender vários dos componentes e softwares utilizados e entender como são feitos os tipos de processamento de imagem implementados.





\bibliographystyle{plain}
\nocite{}
\bibliography{xilinx}	% no spaces between commas!

\end{document}
